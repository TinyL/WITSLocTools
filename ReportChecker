#!/usr/bin/perl

##*****************************************************************************
##
##  Project Name:	AA LocProcess
##     File Name:	ReportChecker
##        Author:	Stanley Au-Yeung
##          Date:	Wednesday, January 9, 2008
##
##   Description:	What it does...
##
##                            Copyright Apple Inc.
##                            All rights reserved.
##
##*****************************************************************************
##                       A U T H O R   I D E N T I T Y
##*****************************************************************************
##
##	Initials	Name
##	--------	-----------------------------------------------
##	SA			Stanley Au-Yeung (stanleyauyeung@asia.apple.com)
##
##*****************************************************************************
##                      R E V I S I O N   H I S T O R Y
##*****************************************************************************
##
##	Date		Time	Author	Description
##	--------	-----	------	---------------------------------------------
##	01/09/08	12:00	SA		Original version
##
##*****************************************************************************

#---------------------------------------------------------------------------------------------
#	Modules Used
#---------------------------------------------------------------------------------------------

use File::Path;
use File::Find;
use File::stat;
use File::Spec;
use File::Copy;

my $gFilePath;


#=============================================================================================
#	Main Program
#=============================================================================================

# set version string
$version = "1.0";




#---------------------------------------------------------------------------------------------
#	Deals with arguments
#---------------------------------------------------------------------------------------------

foreach $item (@ARGV)
{
	$gFilePath = $item;
}


#---------------------------------------------------------------------------------------------
#	
#---------------------------------------------------------------------------------------------


open(LOGFILECONTENT, "<$gFilePath");
	@logFileContent = <LOGFILECONTENT>;
close(LOGFILECONTENT);

my $lineNumber = 0;
my $numOfError = 0;

foreach $line(@logFileContent)
{
	$lineNumber++;
	
	if (($line =~ m/### ERROR/)
		|| ($line =~ m/# ERROR/))
	{
		$numOfError++;
	}
}



if ($numOfError > 0)
{
	print "1";
}
else
{
	print "0";
}

exit(0);




#=============================================================================================
#									E N D   O F   F I L E
#=============================================================================================

